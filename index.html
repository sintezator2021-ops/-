<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>One Product Landing</title>
  <!-- Fonts: display + sans pair -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Theme tokens */
    :root {
      --bg: #f7f4ef;
      --panel: #ffffff;
      --stroke: rgba(0,0,0,0.06);
      --text: #1f1a17;
      --muted: #6f665f;
      --accent: #d9a55c;
      --shadow: 0 12px 40px rgba(0,0,0,0.08);
      --radius: 16px;
      --max-width: 1200px;
      --transition: all 180ms ease;
      /* Заміни значення нижче на свій URL, щоб оновити фото у великому прямокутнику */
      --hero-img: url('https://hozryad.biz.ua/upload/resize_cache/iblock/bb0/800_776_1f03d140275e1d4ea06c4c45abe160441/vzsjo7t2nyw4t6efkff46qykbzawx0kn.jpg');
    }
    * { box-sizing: border-box; }
    /* Base layout */
    body {
      margin: 0;
      font-family: "DM Sans", system-ui, sans-serif;
      background: linear-gradient(145deg, var(--bg), #f1ebe3);
      color: var(--text);
      line-height: 1.6;
    }
    .wrap { max-width: var(--max-width); margin: 0 auto; padding: 20px 16px 60px; }
    .top-price { display: flex; gap: 12px; align-items: center; justify-content: space-between; flex-wrap: wrap; padding: 12px 16px; margin: 0 0 10px; background: linear-gradient(135deg, #fff3db, #f8e6c6); border: 1px solid var(--stroke); border-radius: 14px; box-shadow: var(--shadow); font-weight: 700; }
    .top-price .label { color: var(--muted); }
    .top-price .value { font-size: 20px; color: var(--text); }
    .top-price .old { text-decoration: line-through; color: var(--muted); font-weight: 600; }
    header { display: flex; align-items: center; justify-content: center; gap: 12px; padding: 16px 0; position: sticky; top: 0; background: rgba(247,244,239,0.9); backdrop-filter: blur(12px); z-index: 10; }
    .logo-box { display: inline-flex; align-items: center; gap: 10px; }
    .logo { font-family: "Playfair Display", serif; font-weight: 700; font-size: 22px; }
    .logo-mark { width: 36px; height: 36px; border-radius: 0; object-fit: cover; border: 1px solid var(--stroke); box-shadow: var(--shadow); }
    /* Buttons */
    .btn {
      display: inline-flex; align-items: center; justify-content: center;
      padding: 14px 18px; border-radius: 12px; border: none; cursor: pointer;
      font-weight: 700; font-size: 15px; box-shadow: var(--shadow); transition: var(--transition);
    }
    .btn-primary { background: linear-gradient(135deg, #f3cc93, var(--accent)); color: #2e2416; }
    .btn-primary:hover { transform: translateY(-2px); }
    .btn-ghost { background: var(--panel); border: 1px solid var(--stroke); color: var(--text); }
    section { margin: 32px 0; padding: 20px; border-radius: var(--radius); background: rgba(255,255,255,0.7); border: 1px solid var(--stroke); box-shadow: var(--shadow); }
    h1, h2, h3 { margin: 0 0 10px; font-family: "Playfair Display", serif; }
    p { margin: 0 0 12px; color: var(--muted); }
    /* Hero layout */
    .hero { display: grid; gap: 20px; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); align-items: center; }
    .hero-visual { position: relative; background: var(--hero-img) center/cover no-repeat; border-radius: var(--radius); min-height: 320px; box-shadow: var(--shadow); }
    .hero-text h1 { font-size: 38px; }
    .hero-text p { font-size: 16px; }
    .hero-buttons { display: flex; gap: 10px; flex-wrap: wrap; }
    .hero-price { display: inline-flex; align-items: baseline; gap: 10px; margin: 12px 0 6px; font-weight: 800; }
    .hero-price .value { font-size: 26px; color: var(--text); }
    .hero-price .old { text-decoration: line-through; color: var(--muted); font-weight: 600; }
    .btn-wide { min-width: 320px; padding-inline: 28px; }
    /* Advantage pills */
    .pill-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; }
    .pill { background: var(--panel); border: 1px solid var(--stroke); padding: 14px; border-radius: 14px; box-shadow: var(--shadow); display: grid; gap: 6px; }
    .pill span { font-weight: 700; color: var(--text); }
    /* Gallery cards */
    .gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 12px; }
    .gallery .card { background: var(--panel); border: 1px solid var(--stroke); border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow); min-height: 200px; position: relative; cursor: zoom-in; }
    .gallery .card img { width: 100%; height: 100%; object-fit: cover; display: block; }
    /* Features grid */
    .features { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; }
    .features .card { background: var(--panel); border: 1px solid var(--stroke); border-radius: 14px; padding: 14px; box-shadow: var(--shadow); }
    /* Compare slider */
    .compare { position: relative; border-radius: 16px; overflow: hidden; border: 1px solid var(--stroke); box-shadow: var(--shadow); aspect-ratio: 16 / 9; }
    .compare img { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; pointer-events: none; }
    .compare .after { clip-path: inset(0 0 0 50%); transition: clip-path 160ms ease-out; }
    .compare .handle { position: absolute; top: 50%; left: 50%; width: 42px; height: 70px; transform: translate(-50%, -50%); background: var(--panel); border: 1px solid var(--stroke); border-radius: 14px; box-shadow: var(--shadow); display: grid; place-items: center; cursor: ew-resize; }
    .compare .handle::before, .compare .handle::after { content: ""; border: 7px solid transparent; }
    .compare .handle::before { border-right-color: var(--text); }
    .compare .handle::after { border-left-color: var(--text); }
    .stars { color: #f3b23c; letter-spacing: 2px; }
    /* Reviews */
    .review-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 12px; }
    .review { background: var(--panel); border: 1px solid var(--stroke); border-radius: 14px; padding: 14px; box-shadow: var(--shadow); }
    /* Price block */
    .price { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 16px; align-items: center; }
    .price .tag { font-size: 32px; font-weight: 800; display: flex; gap: 12px; align-items: baseline; }
    .price .tag .old { text-decoration: line-through; color: var(--muted); font-size: 18px; }
    .countdown { margin-top: 12px; padding: 12px; border: 1px dashed var(--stroke); border-radius: 12px; background: rgba(0,0,0,0.02); box-shadow: var(--shadow); display: grid; gap: 6px; font-weight: 700; }
    .countdown-label { color: var(--muted); font-weight: 600; }
    .countdown-time { font-size: 18px; letter-spacing: 1px; }
    /* FAQ */
    .faq { display: grid; gap: 10px; }
    .faq details { padding: 12px 14px; background: var(--panel); border: 1px solid var(--stroke); border-radius: 12px; box-shadow: var(--shadow); transition: var(--transition); }
    .faq details[open] { border-color: rgba(0,0,0,0.12); }
    .faq summary { cursor: pointer; list-style: none; font-weight: 700; display: flex; justify-content: space-between; align-items: center; }
    .faq summary::-webkit-details-marker { display: none; }
    .faq summary::after { content: '?'; font-weight: 800; color: var(--muted); transform: rotate(0deg); transition: transform 160ms ease; }
    .faq details[open] summary::after { transform: rotate(90deg); }
    .faq details p { margin: 8px 0 0; color: var(--muted); }
    /* Order modal */
    .order-modal { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; padding: 18px; background: rgba(0,0,0,0.35); opacity: 0; pointer-events: none; visibility: hidden; transition: opacity 160ms ease, visibility 160ms ease; z-index: 20; }
    .order-modal.open { opacity: 1; pointer-events: auto; visibility: visible; }
    .order-card { position: relative; background: var(--panel); border: 1px solid var(--stroke); border-radius: 18px; padding: 20px; width: min(460px, 100%); box-shadow: 0 18px 50px rgba(0,0,0,0.14); display: grid; gap: 12px; }
    .order-card h3 { margin: 0; }
    .order-card p { margin: 0; color: var(--muted); }
    .order-form { display: grid; gap: 12px; }
    .order-form label { display: grid; gap: 6px; font-weight: 700; color: var(--text); }
    .order-form input { width: 100%; padding: 12px 14px; border: 1px solid var(--stroke); border-radius: 10px; font-size: 15px; font-family: inherit; transition: var(--transition); background: #fff; }
    .order-form input:focus { border-color: var(--accent); box-shadow: 0 0 0 3px rgba(217,165,92,0.25); outline: none; }
    .order-close { position: absolute; top: 12px; right: 12px; border: none; background: var(--panel); border: 1px solid var(--stroke); width: 34px; height: 34px; border-radius: 50%; cursor: pointer; font-size: 18px; font-weight: 700; color: var(--muted); display: grid; place-items: center; transition: var(--transition); }
    .order-close:hover { color: var(--text); transform: translateY(-1px); }
    .order-hint { color: var(--muted); font-size: 14px; }
    .contact-buttons { display: grid; gap: 10px; }
    .contact-buttons .btn { gap: 8px; }
    .contact-buttons .btn svg { width: 18px; height: 18px; flex-shrink: 0; }
    /* Lightbox для галереї */
    .lightbox { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; padding: 18px; background: rgba(0,0,0,0.55); opacity: 0; pointer-events: none; visibility: hidden; transition: opacity 160ms ease, visibility 160ms ease; z-index: 25; }
    .lightbox.open { opacity: 1; pointer-events: auto; visibility: visible; }
    .lightbox-body { position: relative; max-width: min(90vw, 1000px); max-height: 90vh; border-radius: 16px; overflow: hidden; background: #000; box-shadow: 0 20px 60px rgba(0,0,0,0.5); }
    .lightbox-body img { display: block; width: 100%; height: 100%; object-fit: contain; background: #000; }
    .lightbox-close { position: absolute; top: 10px; right: 10px; width: 38px; height: 38px; border-radius: 50%; border: none; background: rgba(255,255,255,0.85); color: #111; font-size: 20px; font-weight: 700; cursor: pointer; transition: var(--transition); }
    .lightbox-close:hover { transform: translateY(-1px); }
    footer { margin-top: 20px; padding: 20px; border-top: 1px solid var(--stroke); color: var(--muted); font-size: 14px; }
    @media (max-width: 640px) {
      .hero-text h1 { font-size: 30px; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top-price">
      <span class="label">Акційна ціна зараз:</span>
      <span class="value">279 грн</span>
      <span class="old">380 грн</span>
    </div>
    <!-- Header: логотип -->
    <header>
      <div class="logo-box">
        <img
          class="logo-mark"
          src="images/logo.jpg"
          alt="Лого"
          onerror="this.onerror=null; this.src='data:image/svg+xml;utf8,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 64 64%27><rect width=%2764%27 height=%2764%27 rx=%2712%27 fill=%27%23f7f4ef%27/><path d=%27M22 10v18m8-18v18m-12 0h16M30 28v26l4 6m-8-6 4 6%27 stroke=%27%23221a17%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/></svg>'; this.alt='Лого (заглушка)';">
        <div class="logo">L&K</div>
      </div>
    </header>

    <!-- Hero: головний блок з текстом і CTA -->
    <section class="hero" id="hero">
      <div class="hero-text">
        <h1>Гірлядна для декору</h1>
        <div class="hero-buttons">
          <button class="btn btn-primary btn-wide" type="button" data-scroll-order>Замовити</button>
        </div>
        <div class="hero-price">
          <span class="value">279 грн</span>
          <span class="old">380 грн</span>
        </div>
        <p>Нереально крута гірлядна яка підходтьб до будь якого інтерєру, а також має приємне для очей освітлення</p>
      </div>
      <div class="hero-visual" aria-label="https://cdn.27.ua/sc--media--prod/default/eb/cd/44/ebcd44a6-980a-4ce3-a0e9-dd05f130623a.jpeg"></div>
    </section>

    <!-- Переваги: 4 картки -->
    <section id="advantages">
      <h2>Переваги</h2>
      <div class="pill-grid">
        <div class="pill"><span>Якість</span><p>Гірлянда дуже міцна і надійна</p></div>
        <div class="pill"><span>Швидка доставка</span><p>Замовлення відправимо максимум через день після замовлення, НоваПочта чи УкрПочта на ваш вибір</p></div>
        <div class="pill"><span>Гарантія</span><p>Товар можна замінити, чи повернути кошти, якщо буде виявлений брак</p></div>
        <div class="pill"><span>Зручність</span><p>Гірлянда не потребує зарядки, прото увімкніть в розетку</p></div>
      </div>
    </section>

    <!-- Галерея: 3 фото -->
    <section id="gallery">
      <h2>Галерея</h2>
      <div class="gallery">
        <div class="card"><img src="https://cdn.proflowers.ua/upload/images/product/2641_1.jpg?t=1668175559" alt="Галерея 1"></div>
        <div class="card"><img src="https://images.deal.by/279079762_girlyanda-shtora-22.jpg" alt="Галерея 2"></div>
        <div class="card"><img src="https://sameto.com.ua/r_imgs_2.php?thumb=71grhjdpwul.jpg" alt="Галерея 3"></div>
      </div>
    </section>

    <!-- Характеристики -->
    <section id="features">
      <h2>Характеристики</h2>
      <div class="features">
        <div class="card"><h3>Пункт 1</h3><p>Грана, проста у використанні</p></div>
        <div class="card"><h3>Пункт 2</h3><p>має пульт для додаткових налаштувань</p></div>
        <div class="card"><h3>Пункт 3</h3><p>Короткий опис.</p></div>
        <div class="card"><h3>Пункт 4</h3><p>Короткий опис.</p></div>
      </div>
    </section>

    <!-- До/Після слайдер -->
    <section id="compare">
      <h2>До / Після</h2>
      <div class="compare" data-compare>
        <img class="before" src="https://videos.openai.com/az/vg-assets/task_01kbg5rkx2eejvtn4emqkyqx17%2F1764700883_img_1.webp?se=2025-12-08T00%3A00%3A00Z&sp=r&sv=2024-08-04&sr=b&skoid=8ffff87a-01f1-47c9-9090-32999d4d6380&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-12-02T01%3A09%3A51Z&ske=2025-12-09T01%3A14%3A51Z&sks=b&skv=2024-08-04&sig=53466pM%2B8LRBiO14Hat%2BtddsAuwsuBTUPznNmbU%2Ba88%3D&ac=oaivgprodscus2" alt="До">
        <img class="after" src="https://videos.openai.com/az/vg-assets/task_01kbg5gx9getcvf6j0qk80kyxx%2F1764700539_img_1.webp?se=2025-12-08T00%3A00%3A00Z&sp=r&sv=2024-08-04&sr=b&skoid=8ffff87a-01f1-47c9-9090-32999d4d6380&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-12-02T01%3A09%3A51Z&ske=2025-12-09T01%3A14%3A51Z&sks=b&skv=2024-08-04&sig=ZVPJaHQ7h2u5aRGk5%2BlYX6jlVnbDO11VD7VFldzWLRw%3D&ac=oaivgprodscus2" alt="Після">
        <div class="handle" role="slider" aria-valuemin="0" aria-valuemax="100" aria-valuenow="50"></div>
      </div>
    </section>

    <!-- Відгуки -->
    <section id="reviews">
      <h2>Відгуки</h2>
      <div class="review-list">
        <div class="review"><div class="stars">★★★★</div><p>Проблем не бачу, замовила через вигіну знижку, воно того вартувало</p></div>
        <div class="review"><div class="stars">★★★★★</div><p>Все чудово, прийшло швидко, працює якісно</p></div>
        <div class="review"><div class="stars">★★★★</div><p>Прикольна герлянда, ціна мене влаштовує</p></div>
      </div>
    </section>

    <!-- Ціна + таймер акції + кнопки -->
    <section id="price">
      <h2>Ціна</h2>
      <div class="price">
        <div>
          <div class="tag"><span class="old">380 грн</span><span>279 грн</span></div>
          <p>Знижка діє до 5 грудня</p>
          <div class="countdown" id="countdown">
            <div class="countdown-label">Акційна ціна закінчиться через:</div>
            <div class="countdown-time">-- д -- лол -- хв -- с</div>
          </div>
        </div>
        <div style="display:flex; gap:10px; align-items:center;">
          <button class="btn btn-primary btn-wide" type="button" data-order-open id="orderButtonBottom">Замовити</button>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq">
      <h2>FAQ</h2>
      <div class="faq">
        <details class="item">
          <summary>Що входить у комплект?</summary>
          <p>Гірлянда-гардина 3х3 м, пульт, USB кабель, гачки/стяжки, інструкція. Все готово до підключення.</p>
        </details>
        <details class="item">
          <summary>Як живиться?</summary>
          <p>Живлення від USB 5В до 6W. Можна підключити до павербанка, адаптера чи ноутбука.</p>
        </details>
        <details class="item">
          <summary>Чи можна з’єднати два набори?</summary>
          <p>Так, можна поєднати два комплекти, щоб перекрити до 6 м ширини.</p>
        </details>
        <details class="item">
          <summary>Доставка і оплата</summary>
          <p>Нова Пошта або кур’єр, оплата карткою чи післяплатою. Середній термін доставки 1–3 дні.</p>
        </details>
      </div>
    </section>

    <!-- Footer: contacts/policy -->
    <footer id="footer">
      <div>BrandName · Контакти · Політика конфіденційності</div>
    </footer>
  </div>

  <!-- Модалка заявки: форма ім'я/телефон -->
  <div class="order-modal" id="orderModal" aria-hidden="true">
    <div class="order-card" role="dialog" aria-modal="true" aria-labelledby="orderTitle">
      <button class="order-close" type="button" aria-label="Закрити" data-close>&times;</button>
      <h3 id="orderTitle">Залиште заявку</h3>
      <p>Вкажіть контакти і ми звяжемося з вами для узгодження замовлення</p>
      <form id="orderForm" class="order-form">
        <input type="hidden" name="product" value="гірлянда">
        <label>
          <span>Ім'я</span>
          <input type="text" name="name" placeholder="Олексій" required>
        </label>
        <label>
          <span>Номер телефону</span>
          <input type="tel" name="phone" placeholder="+380..." inputmode="tel" pattern="\+?[0-9\-\s]{7,}" required>
        </label>
        <button class="btn btn-primary" type="submit">Надіслати</button>
      </form>
    </div>
  </div>

  <!-- Модалка успіху після відправки -->
  <div class="order-modal" id="successModal" aria-hidden="true">
    <div class="order-card" role="dialog" aria-modal="true" aria-labelledby="successTitle">
      <button class="order-close" type="button" aria-label="Закрити" data-close-success>&times;</button>
      <h3 id="successTitle">Дякуємо!</h3>
      <p id="successText">Ми скоро з вами зв'яжемося.</p>
      <button class="btn btn-primary" type="button" data-close-success>Закрити</button>
    </div>
  </div>

  <!-- Модалка контактів -->
  <div class="order-modal" id="contactsModal" aria-hidden="true">
    <div class="order-card" role="dialog" aria-modal="true" aria-labelledby="contactsTitle">
      <button class="order-close" type="button" aria-label="Закрити" data-close-contacts>&times;</button>
      <h3 id="contactsTitle">Контакти</h3>
      <p>Обирайте зручний спосіб зв'язку:</p>
      <div class="contact-buttons">
        <a class="btn btn-primary" href="https://t.me/ygr0man" target="_blank" rel="noreferrer noopener">
          <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="#27A7E7" d="M21.5 4.4 3.9 11.4c-1 .4-.9 1.1-.2 1.3l4.2 1.3 1.6 5c.2.6.3.8.6.8.3 0 .4-.1.7-.3l2.4-2.3 4 3c.7.4 1.2.2 1.4-.7l2.5-12.1c.3-1.2-.5-1.8-1.2-1.5Zm-3.6 3.2-7.2 6.6c-.1.1-.2.2-.2.3l-.4 2.5c0 .1-.2.1-.3 0l-.8-2.7c0-.1 0-.2.1-.3l8.7-6.5c.1 0 .2.1.1.1Z"/></svg>
          <span>Написати в Telegram</span>
        </a>
        <a class="btn btn-ghost" href="viber://chat?number=%2B380000000000" target="_blank" rel="noreferrer noopener">
          <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="#7360F2" d="M17.6 2c1.3 0 2.4 1 2.4 2.3v11.6c0 1.3-1.1 2.3-2.4 2.3H10l-3.5 3.3c-.2.2-.5.1-.5-.1v-3.2H6.4C5 18.2 4 17.2 4 15.9V4.3C4 3 5.1 2 6.4 2h11.2Zm-5.5 2.6c-.3-.1-.7.1-.7.5s.3.8.7.9c2.1.5 3.4 1.8 3.9 4 .1.3.4.5.7.5h.1c.4-.1.6-.5.6-.9-.6-2.7-2.3-4.4-5.3-5Zm0 2.9c-.3-.1-.7.1-.7.5s.3.8.7.9c1 .2 1.6.8 1.8 1.8.1.4.4.6.7.6h.1c.4-.1.6-.5.6-.9-.3-1.7-1.4-2.7-3.2-2.9Zm-.1 2.7c.4 0 .7.3.7.7 0 .4-.3.7-.7.7-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7Zm-1.6 3.1c-.2-.1-.5-.1-.7-.2-.5-.2-1-.5-1.4-.9-.2-.1-.3-.3-.5-.3-.5-.1-.8.2-1 .6-.2.5-.4 1-.2 1.5.4 1.1 1.2 2.1 2.2 2.7.5.3 1 .6 1.5.7.6.2 1.1.2 1.5-.3.2-.3.4-.6.7-.9.2-.2.2-.4 0-.6-.2-.2-.5-.4-.7-.6-.2-.2-.4-.2-.6 0-.4.3-.6.3-1 .1-1-.5-1.8-1.3-2.1-2.4 0-.1 0-.3.2-.3h.1c.3 0 .4.1.6.2.4.2.7.4 1 .6.2.1.4.1.6 0 .3-.1.5-.3.7-.6.2-.2.1-.5-.1-.6-.3-.3-.7-.4-1-.6Z"/></svg>
          <span>Написати в Viber</span>
        </a>
      </div>
    </div>
  </div>
  </div>

  <!-- Лайтбокс для фото галереї -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightbox-body">
      <button class="lightbox-close" type="button" aria-label="Закрити" data-lightbox-close>&times;</button>
      <img id="lightboxImg" src="" alt="">
    </div>
  </div>

  <script>
    // Простий drag для блока порівняння
    document.querySelectorAll('[data-compare]').forEach((block) => {
      const after = block.querySelector('.after');
      const handle = block.querySelector('.handle');
      let active = false;
      const clamp = (v) => Math.min(0.95, Math.max(0.05, v));

      const setPos = (clientX) => {
        const rect = block.getBoundingClientRect();
        const x = clamp((clientX - rect.left) / rect.width);
        after.style.clipPath = `inset(0 0 0 ${x * 100}%)`;
        handle.style.left = `${x * 100}%`;
        handle.setAttribute('aria-valuenow', Math.round(x * 100));
      };

      const move = (e) => {
        if (!active) return;
        const clientX = e.touches ? e.touches[0].clientX : e.clientX;
        setPos(clientX);
      };

      const stop = () => { active = false; document.removeEventListener('pointermove', move); document.removeEventListener('pointerup', stop); document.removeEventListener('touchmove', move); document.removeEventListener('touchend', stop); };
      const start = (e) => { active = true; setPos(e.clientX ?? e.touches?.[0]?.clientX ?? 0); document.addEventListener('pointermove', move); document.addEventListener('pointerup', stop); document.addEventListener('touchmove', move, { passive: false }); document.addEventListener('touchend', stop); e.preventDefault(); };

      handle.addEventListener('pointerdown', start);
      handle.addEventListener('touchstart', start, { passive: false });
    });

    // Модальні вікна: заявка + успіх + контакти
    const orderModal = document.getElementById('orderModal');
    const orderForm = document.getElementById('orderForm');
    const nameField = orderForm?.querySelector('input[name="name"]');
    const submitBtn = orderForm?.querySelector('button[type="submit"]');
    const successModal = document.getElementById('successModal');
    const successText = document.getElementById('successText');
    const contactsModal = document.getElementById('contactsModal');
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightboxImg');
    const heroScrollBtn = document.querySelector('[data-scroll-order]');
    const bottomOrderBtn = document.getElementById('orderButtonBottom');
    const ORDER_ENDPOINT = 'https://sercer-epai.onrender.com/order'; // замініть, якщо бекенд на іншому домені

    const updateScrollLock = () => {
      const anyOpen = orderModal?.classList.contains('open') || successModal?.classList.contains('open') || contactsModal?.classList.contains('open') || lightbox?.classList.contains('open');
      document.body.style.overflow = anyOpen ? 'hidden' : '';
    };

    const openOrderModal = () => {
      if (!orderModal) return;
      orderModal.classList.add('open');
      orderModal.setAttribute('aria-hidden', 'false');
      nameField?.focus();
      updateScrollLock();
    };

    const closeOrderModal = () => {
      if (!orderModal) return;
      orderModal.classList.remove('open');
      orderModal.setAttribute('aria-hidden', 'true');
      updateScrollLock();
    };

    const openSuccessModal = (message) => {
      if (!successModal) return;
      if (successText && message) successText.textContent = message;
      successModal.classList.add('open');
      successModal.setAttribute('aria-hidden', 'false');
      updateScrollLock();
    };

    const closeSuccessModal = () => {
      if (!successModal) return;
      successModal.classList.remove('open');
      successModal.setAttribute('aria-hidden', 'true');
      updateScrollLock();
    };

    const openContactsModal = () => {
      if (!contactsModal) return;
      contactsModal.classList.add('open');
      contactsModal.setAttribute('aria-hidden', 'false');
      updateScrollLock();
    };

    const closeContactsModal = () => {
      if (!contactsModal) return;
      contactsModal.classList.remove('open');
      contactsModal.setAttribute('aria-hidden', 'true');
      updateScrollLock();
    };

    const openLightbox = (src, alt) => {
      if (!lightbox || !lightboxImg) return;
      lightboxImg.src = src;
      lightboxImg.alt = alt || 'Фото';
      lightbox.classList.add('open');
      lightbox.setAttribute('aria-hidden', 'false');
      updateScrollLock();
    };

    const closeLightbox = () => {
      if (!lightbox) return;
      lightbox.classList.remove('open');
      lightbox.setAttribute('aria-hidden', 'true');
      lightboxImg?.setAttribute('src', '');
      updateScrollLock();
    };

    // Скрол з верхньої кнопки до основного блоку замовлення
    heroScrollBtn?.addEventListener('click', (e) => {
      e.preventDefault();
      if (bottomOrderBtn) {
        bottomOrderBtn.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    });

    // Обробник кнопок "Замовити" відкриває форму
    document.querySelectorAll('[data-order-open]').forEach((btn) => {
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        openOrderModal();
      });
    });

    // Закриття форми по кліку по фону чи хрестику
    orderModal?.addEventListener('click', (e) => {
      const target = e.target;
      if (target === orderModal || target.closest?.('[data-close]')) {
        closeOrderModal();
      }
    });

    // Закриття модалки успіху по кліку по фону чи хрестику
    successModal?.addEventListener('click', (e) => {
      const target = e.target;
      if (target === successModal || target.closest?.('[data-close-success]')) {
        closeSuccessModal();
      }
    });

    // Відкриття контактів з кнопок
    document.querySelectorAll('[data-contacts-open]').forEach((btn) => {
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        openContactsModal();
      });
    });

    // Закриття контактів по кліку по фону чи хрестику
    contactsModal?.addEventListener('click', (e) => {
      const target = e.target;
      if (target === contactsModal || target.closest?.('[data-close-contacts]')) {
        closeContactsModal();
      }
    });

    // Лайтбокс: відкриття/закриття по кліку на фото та фон
    document.querySelectorAll('.gallery .card img').forEach((img) => {
      img.addEventListener('click', () => openLightbox(img.src, img.alt));
    });

    lightbox?.addEventListener('click', (e) => {
      const target = e.target;
      if (target === lightbox || target.closest?.('[data-lightbox-close]')) {
        closeLightbox();
      }
    });

    // Таймер до 5 грудня цього року (якщо пройшло — наступного)
    const countdown = document.getElementById('countdown');
    const countdownTime = countdown?.querySelector('.countdown-time');
    let targetDate = null;
    const now = new Date();
    if (countdown) {
      const baseYear = now.getFullYear();
      targetDate = new Date(baseYear, 11, 5, 0, 0, 0); // 11 = грудень
    }

    const pad = (v) => String(v).padStart(2, '0');
    const tickCountdown = () => {
      if (!countdown || !countdownTime || !targetDate) return;
      const diff = targetDate.getTime() - Date.now();
      if (diff <= 0) {
        countdownTime.textContent = 'Акція завершилась';
        return;
      }
      const totalSeconds = Math.floor(diff / 1000);
      const days = Math.floor(totalSeconds / 86400);
      const hours = Math.floor((totalSeconds % 86400) / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;
      countdownTime.textContent = `${days} д ${pad(hours)} г ${pad(minutes)} хв ${pad(seconds)} с`;
    };
    if (targetDate) {
      tickCountdown();
      setInterval(tickCountdown, 1000);
    }

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeOrderModal();
        closeSuccessModal();
        closeContactsModal();
        closeLightbox();
      }
    });

    // Сабміт форми: відправляємо дані на бекенд і показуємо модалку успіху
    orderForm?.addEventListener('submit', async (e) => {
      e.preventDefault();
      if (!orderForm) return;
      const formData = new FormData(orderForm);
      const name = formData.get('name')?.toString().trim() || 'друже';
      const phone = formData.get('phone')?.toString().trim();
      const product = formData.get('product')?.toString().trim() || 'гірлянда';
      if (!phone) return;
      const payload = new FormData();
      payload.append('name', name);
      payload.append('phone', phone);
      payload.append('product', product);

      if (submitBtn) { submitBtn.disabled = true; submitBtn.textContent = 'Відправляємо...'; }

      let sent = false;
      try {
        const res = await fetch(ORDER_ENDPOINT, { method: 'POST', body: payload });
        sent = res.ok;
      } catch (err) {
        console.error('Order send failed', err);
      } finally {
        if (submitBtn) { submitBtn.disabled = false; submitBtn.textContent = 'Надіслати'; }
      }

      orderForm.reset();
      closeOrderModal();
      const msg = sent
        ? `Дякуємо, ${name}! Ми зв'яжемося з вами за номером ${phone} щодо замовлення: ${product}.`
        : `Заявку прийнято, але не вдалось відправити на сервер. Перевірте бекенд/мережу.`;
      openSuccessModal(msg);
    });
  </script>
</body>
</html>












